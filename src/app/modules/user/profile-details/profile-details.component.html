<div class="profile-container" *ngIf="!isLoading; else loading">
  <div *ngIf="errorMessage; else profileContent" class="error-message">
    {{ errorMessage }}
  </div>

  <ng-template #profileContent>
    <h2>User Profile</h2>
    <div class="profile-section">
      <label>Username:</label>
      <span>{{ userProfile.username }}</span>
    </div>

    <div class="profile-section">
      <label>First Name:</label>
      <span>{{ userProfile.firstName }}</span>
    </div>

    <div class="profile-section">
      <label>Last Name:</label>
      <span>{{ userProfile.lastName }}</span>
    </div>

    <div class="profile-section">
      <label>City:</label>
      <span>{{ userProfile.city }}</span>
    </div>

    <div class="preferences-section">
      <label>Preferences:</label>
      <div *ngFor="let category of preferencesSelected" class="preference-category">
        <h3>{{ category.category }}</h3>
        <div class="chip-container">
        <span
          *ngFor="let pref of category.preferences"
          class="chip"
        >
          {{ pref }}
        </span>
        </div>
      </div>
    </div>

    <button (click)="editProfile()">Edit Profile</button>
  </ng-template>
</div>

<ng-template #loading>
  <div class="loading-spinner">
    Loading profile...
  </div>
</ng-template>
